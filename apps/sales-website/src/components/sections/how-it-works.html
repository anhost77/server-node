<!-- How it Works Section -->
<div class="how-it-works-wrapper" id="how-it-works">

    <!-- Step 1: Install -->
    <div class="how-step reveal">
        <div class="step-content">
            <div class="step-number">{{howItWorks.step1.number}}</div>
            <h2>{{howItWorks.step1.title}}</h2>
            <p>{{howItWorks.step1.description}}</p>

            <div class="install-badges">
                {{#each howItWorks.step1.badges}}
                <span class="badge">{{this}}</span>
                {{/each}}
            </div>

            <p style="margin-top: 2rem; font-size: 0.9rem; color: #888; border-left: 2px solid #333; padding-left: 1rem;">
                {{howItWorks.step1.quote}}
            </p>
        </div>
        <div class="step-visual">
            <div class="terminal-mockup">
                <div class="terminal-header">
                    <span class="dot red"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                    <span class="terminal-title">{{howItWorks.step1.terminalTitle}}</span>
                </div>
                <div class="terminal-body" id="install-terminal">
                    <div class="terminal-line command-line">
                        <span class="terminal-command" data-text="{{howItWorks.step1.lines.0}}"></span><span class="terminal-cursor">‚ñã</span>
                    </div>
                    <div class="terminal-output">
                        <div class="terminal-line output-line" data-text="{{howItWorks.step1.lines.1}}" data-prefix="‚úì"></div>
                        <div class="terminal-line output-line" data-text="{{howItWorks.step1.lines.2}}" data-prefix="‚úì"></div>
                        <div class="terminal-line output-line" data-text="{{howItWorks.step1.lines.3}}" data-prefix="‚úì"></div>
                        <div class="terminal-line output-line" data-text="{{howItWorks.step1.lines.4}}" data-prefix="‚úì"></div>
                        <div class="terminal-line output-line" data-text="{{howItWorks.step1.lines.5}}" data-prefix="‚úì"></div>
                        <div class="terminal-line output-line" data-text="{{howItWorks.step1.lines.6}}" data-prefix="‚úì"></div>
                        <div class="terminal-line output-line success-line" data-text="{{howItWorks.step1.lines.7}}" data-prefix="üöÄ"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Step 2: Deploy -->
    <div class="how-step reveal">
        <div class="step-content">
            <div class="step-number">{{howItWorks.step2.number}}</div>
            <h2>{{howItWorks.step2.title}}</h2>
            <p>{{howItWorks.step2.description}}</p>

            <div class="deploy-features">
                {{#each howItWorks.step2.badges}}
                <span class="badge">{{this}}</span>
                {{/each}}
            </div>
        </div>
        <div class="step-visual">
            <div class="dashboard-mockup" id="deploy-mockup">
                <div class="dash-header anim-item">
                    <span class="logo">ServerFlow</span>
                    <span class="user">alexchen <div class="avatar-sm"></div></span>
                </div>

                <div class="dash-body">
                    <div class="connect-github-card">
                        <div class="github-icon anim-item"></div>
                        <h3 class="anim-item anim-title" data-text="{{howItWorks.step2.connectRepo}}"></h3>

                        <div class="repo-selector">
                            <div class="repo-item anim-item" data-selected="true">
                                <span style="margin-right:0.5rem">üìÅ</span>
                                <span>alexchen/my-saas-app</span>
                                <span class="check anim-check">‚úì</span>
                            </div>
                            <div class="repo-item anim-item">
                                <span style="margin-right:0.5rem">üìÅ</span>
                                <span>alexchen/landing-page</span>
                            </div>
                        </div>

                        <div class="auto-detect anim-item">
                            <span>üîç {{howItWorks.step2.detected}} <strong>Next.js 14</strong></span>
                        </div>

                        <button class="btn-deploy anim-item">{{howItWorks.step2.deployNow}} ‚Üí</button>
                    </div>

                    <div class="deploy-success anim-item">
                        <span style="font-size:1.2rem">‚úÖ</span>
                        <div>
                            <span style="display:block; font-weight:bold; font-size:0.9rem">https://my-saas-app.com</span>
                            <span style="font-size:0.8rem; opacity:0.8">{{howItWorks.step2.deployedIn}} 1.8s</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Step 3: Chat -->
    <div class="how-step reveal">
        <div class="step-content">
            <div class="step-number">{{howItWorks.step3.number}}</div>
            <h2>{{howItWorks.step3.title}}</h2>
            <p>{{howItWorks.step3.description}}</p>

            <div class="command-examples">
                {{#each howItWorks.step3.commands}}
                <span class="badge">{{this}}</span>
                {{/each}}
            </div>

            <p style="margin-top: 2rem; font-size: 1.1rem; color: #fff; font-weight: 500;">
                {{howItWorks.step3.footer}}
            </p>
        </div>
        <div class="step-visual">
            <div class="chat-mockup">
                <div class="chat-header">
                    <div class="ai-avatar"></div>
                    <span>Claude</span>
                    <span class="status online">&#x25CF; {{howItWorks.step3.mcpConnected}}</span>
                </div>

                <div class="chat-messages">
                    <div class="message user">
                        <p>{{howItWorks.step3.chatMessages.user1}}</p>
                    </div>

                    <div class="message assistant">
                        <p>{{howItWorks.step3.chatMessages.assistant1}}</p>
                        <div class="deploy-status">
                            <span class="success">&#x2705;</span> {{howItWorks.step3.chatMessages.assistant1Status}}
                        </div>
                    </div>

                    <div class="message user">
                        <p>{{howItWorks.step3.chatMessages.user2}}</p>
                    </div>

                    <div class="message assistant">
                        <p>{{howItWorks.step3.chatMessages.assistant2}}</p>
                        <div class="deploy-status">
                            <span class="success">&#x2705;</span> {{howItWorks.step3.chatMessages.assistant2Status}}
                        </div>
                    </div>

                    <div class="message user">
                        <p>{{howItWorks.step3.chatMessages.user3}}</p>
                    </div>

                    <div class="message assistant">
                        <div class="stats-mini">
                            <span style="font-size: 0.85rem; color: #888;">{{howItWorks.step3.chatMessages.assistant3Stats}}</span>
                        </div>
                    </div>
                </div>

                <div class="chat-input">
                    <input type="text" placeholder="{{howItWorks.step3.placeholder}}">
                    <button>&#x21B5;</button>
                </div>
            </div>
        </div>
    </div>

</div>
